{"remainingRequest":"/Users/lumeng/Downloads/yumoblog/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/lumeng/Downloads/yumoblog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lumeng/Downloads/yumoblog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lumeng/Downloads/yumoblog/node_modules/@vuepress/theme-blog/components/Sticker.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/@vuepress/theme-blog/components/Sticker.vue","mtime":1571734172112},{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/cache-loader/dist/cjs.js","mtime":1571734121226},{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/babel-loader/lib/index.js","mtime":1571734121221},{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/cache-loader/dist/cjs.js","mtime":1571734121226},{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/vue-loader/lib/index.js","mtime":1571734124095}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZmluZENvbnRhaW5lckluVm0gfSBmcm9tICIuL3V0aWwiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsnc3RpY2snLCAndGFnJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5lZWRGbG9hdDogZmFsc2UsCiAgICAgIHN0aWNrQm90dG9tOiAwCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIHN0aWNrOiBmdW5jdGlvbiBzdGljaygpIHsKICAgICAgdGhpcy51blN0aWNrKCk7CiAgICAgIHRoaXMuc3RpY2tIYW5kbGUoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHN0aWNrSGFuZGxlOiBmdW5jdGlvbiBzdGlja0hhbmRsZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5zdGljaykgcmV0dXJuOwogICAgICB2YXIgc3RpY2tFbGVtZW50ID0gZmluZENvbnRhaW5lckluVm0odGhpcy5zdGljaywgdGhpcyk7CiAgICAgIGlmICghc3RpY2tFbGVtZW50KSByZXR1cm47CgogICAgICB0aGlzLl9zdGlja2VyU2Nyb2xsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciByZWN0ID0gX3RoaXMuJGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoKICAgICAgICB2YXIgc2Nyb2xsVG9wID0gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwogICAgICAgIF90aGlzLm5lZWRGbG9hdCA9IGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0IC0gc2Nyb2xsVG9wIC0gcmVjdC5oZWlnaHQgPCBzdGlja0VsZW1lbnQub2Zmc2V0SGVpZ2h0OwogICAgICAgIF90aGlzLnN0aWNrQm90dG9tID0gc3RpY2tFbGVtZW50Lm9mZnNldEhlaWdodDsKICAgICAgfTsKCiAgICAgIHRoaXMuX3N0aWNrZXJTY3JvbGwoKTsKCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLl9zdGlja2VyU2Nyb2xsKTsKICAgIH0sCiAgICB1blN0aWNrOiBmdW5jdGlvbiB1blN0aWNrKCkgewogICAgICB0aGlzLm5lZWRGbG9hdCA9IGZhbHNlOwogICAgICB0aGlzLnN0aWNrQm90dG9tID0gMDsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHRoaXMuX3N0aWNrZXJTY3JvbGwpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuc3RpY2tIYW5kbGUoKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLnVuU3RpY2soKTsKICB9Cn07"},{"version":3,"sources":["Sticker.vue"],"names":[],"mappings":";;;;;;;;;AAUA,SAAA,iBAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,OAAA,EAAA,KAAA,CADA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,KADA;AAEA,MAAA,WAAA,EAAA;AAFA,KAAA;AAIA,GARA;AAUA,EAAA,KAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,WAAA,OAAA;AACA,WAAA,WAAA;AACA;AAJA,GAVA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,UAAA,CAAA,KAAA,KAAA,EAAA;AACA,UAAA,YAAA,GAAA,iBAAA,CAAA,KAAA,KAAA,EAAA,IAAA,CAAA;AACA,UAAA,CAAA,YAAA,EAAA;;AAEA,WAAA,cAAA,GAAA,YAAA;AACA,YAAA,IAAA,GAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,EAAA;;AACA,YAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CAAA,SAAA,GAAA,QAAA,CAAA,eAAA,CAAA,SAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CAAA,YAAA,GAAA,SAAA,GAAA,IAAA,CAAA,MAAA,GAAA,YAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,YAAA,CAAA,YAAA;AACA,OALA;;AAOA,WAAA,cAAA;;AACA,MAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,cAAA;AACA,KAfA;AAiBA,IAAA,OAjBA,qBAiBA;AACA,WAAA,SAAA,GAAA,KAAA;AACA,WAAA,WAAA,GAAA,CAAA;AACA,MAAA,MAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,cAAA;AACA;AArBA,GAjBA;AAyCA,EAAA,OAzCA,qBAyCA;AACA,SAAA,WAAA;AACA,GA3CA;AA6CA,EAAA,aA7CA,2BA6CA;AACA,SAAA,OAAA;AACA;AA/CA,CAAA","sourcesContent":["<template>\n  <component :is=\"tag || 'div'\"\n             class=\"sticker\"\n             :class=\"needFloat ? [ 'stick-float' ] : undefined\"\n             :style=\"needFloat ? { bottom: `${stickBottom}px` } : undefined\">\n    <slot></slot>\n  </component>\n</template>\n\n<script>\n  import { findContainerInVm } from './util';\n  export default {\n    props: ['stick', 'tag'],\n\n    data() {\n      return {\n        needFloat: false,\n        stickBottom: 0,\n      }\n    },\n\n    watch: {\n      stick() {\n        this.unStick();\n        this.stickHandle();\n      }\n    },\n\n    methods: {\n      stickHandle() {\n        if (!this.stick) return;\n        const stickElement = findContainerInVm(this.stick, this);\n        if (!stickElement) return;\n\n        this._stickerScroll = () => {\n          const rect = this.$el.getBoundingClientRect();\n          const scrollTop = document.body.scrollTop + document.documentElement.scrollTop;\n          this.needFloat = (document.body.offsetHeight - scrollTop - rect.height) < stickElement.offsetHeight;\n          this.stickBottom = stickElement.offsetHeight;\n        }\n\n        this._stickerScroll();\n        window.addEventListener(\"scroll\", this._stickerScroll);\n      },\n\n      unStick() {\n        this.needFloat = false;\n        this.stickBottom = 0;\n        window.removeEventListener(\"scroll\", this._stickerScroll);\n      },\n    },\n\n    mounted() {\n      this.stickHandle();\n    },\n\n    beforeDestroy() {\n      this.unStick();\n    }\n  }\n</script>\n\n<style lang=\"stylus\">\n  .sticker\n    position: fixed;\n\n    &.stick-float\n      top: auto;\n      position: absolute;\n</style>\n\n"],"sourceRoot":"node_modules/@vuepress/theme-blog/components"}]}