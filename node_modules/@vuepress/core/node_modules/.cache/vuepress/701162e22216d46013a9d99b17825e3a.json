{"remainingRequest":"/Users/lumeng/Downloads/yumoblog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lumeng/Downloads/yumoblog/node_modules/@vuepress/theme-blog/components/Toc.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/@vuepress/theme-blog/components/Toc.vue","mtime":1571734172112},{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/cache-loader/dist/cjs.js","mtime":1571734121226},{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/babel-loader/lib/index.js","mtime":1571734121221},{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/cache-loader/dist/cjs.js","mtime":1571734121226},{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/vue-loader/lib/index.js","mtime":1571734124095}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTdGlja2VyIGZyb20gJy4vU3RpY2tlci52dWUnOwpsZXQgaW5pdFRvcDsKCi8vIGdldCBvZmZzZXQgdG9wCmZ1bmN0aW9uIGdldEFic29sdXRlVG9wKGRvbSkgewogIHJldHVybiBkb20gJiYgZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdAogICAgPyBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsKICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wICsKICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AKICAgIDogMDsKfQoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFN0aWNrZXIsCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZUluZGV4OiAwCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICB2aXNpYmxlKCkgewogICAgICByZXR1cm4gKAogICAgICAgIHRoaXMuJGZyb250bWF0dGVyICYmCiAgICAgICAgdGhpcy4kZnJvbnRtYXR0ZXIudG9jICE9PSBmYWxzZSAmJgogICAgICAgICEhKHRoaXMuJHBhZ2UgJiYgdGhpcy4kcGFnZS5oZWFkZXJzICYmIHRoaXMuJHBhZ2UuaGVhZGVycy5sZW5ndGgpCiAgICAgICk7CiAgICB9CiAgfSwKCiAgd2F0Y2g6IHsKICAgIGFjdGl2ZUluZGV4KCkgewogICAgICBjb25zdCBpdGVtcyA9IHRoaXMuJHJlZnMuY2hhaXJUb2NJdGVtIHx8IFtdOwogICAgICBjb25zdCBkb20gPSBpdGVtc1t0aGlzLmFjdGl2ZUluZGV4XTsKICAgICAgaWYgKCFkb20pIHJldHVybjsKICAgICAgY29uc3QgcmVjdCA9IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgY29uc3Qgd3JhcHBlclJlY3QgPSB0aGlzLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgY29uc3QgdG9wID0gcmVjdC50b3AgLSB3cmFwcGVyUmVjdC50b3A7CiAgICAgIGlmICh0b3AgPCAyMCkgewogICAgICAgIHRoaXMuJGVsLnNjcm9sbFRvcCA9IHRoaXMuJGVsLnNjcm9sbFRvcCArIHRvcCAtIDIwOwogICAgICB9IGVsc2UgaWYgKHRvcCArIHJlY3QuaGVpZ2h0ID4gd3JhcHBlclJlY3QuaGVpZ2h0KSB7CiAgICAgICAgdGhpcy4kZWwuc2Nyb2xsVG9wICs9IHJlY3QudG9wIC0gKHdyYXBwZXJSZWN0LmhlaWdodCAtIHJlY3QuaGVpZ2h0KTsKICAgICAgfQogICAgfSwKCiAgICAkcm91dGUoKSB7CgogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIG9uU2Nyb2xsKCkgewogICAgICBpZiAoaW5pdFRvcCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaW5pdFRvcCA9IGdldEFic29sdXRlVG9wKHRoaXMuJGVsKTsKICAgICAgfQoKICAgICAgLy8gdXBkYXRlIHBvc2l0aW9uCiAgICAgIGNvbnN0IHNjcm9sbFRvcCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsKICAgICAgY29uc3QgaGVhZGluZ3MgPSB0aGlzLiRwYWdlLmhlYWRlcnMgfHwgW107CgogICAgICAvLyBjaGFuZ2UgYWN0aXZlIHRvYyB3aXRoIHNjcm9sbGluZwogICAgICBsZXQgaSA9IDA7CiAgICAgIGNvbnN0IGFkZExpbmsgPSBpbmRleCA9PiB7CiAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IGluZGV4OwogICAgICB9OwoKICAgICAgZm9yICg7IGkgPCBoZWFkaW5ncy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGRvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhlYWRpbmdzW2ldLnNsdWcpOwogICAgICAgIGNvbnN0IHRvcCA9IGdldEFic29sdXRlVG9wKGRvbSk7CiAgICAgICAgaWYgKHRvcCAtIDUwIDwgc2Nyb2xsVG9wKSB7CiAgICAgICAgICBhZGRMaW5rKGkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoIWkpIGFkZExpbmsoaSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgdHJpZ2dlckV2dCgpIHsKICAgICAgdGhpcy5fb25TY3JvbGwoKTsKICAgICAgdGhpcy5fb25IYXNoQ2hhbmdlKCk7CiAgICB9CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIC8vIHN5bmMgdmlzaWJsZSB0byBwYXJlbnQgY29tcG9uZW50CiAgICBjb25zdCBzeW5jVmlzaWJsZSA9ICgpID0+IHsKICAgICAgdGhpcy4kZW1pdCgndmlzaWJsZS1jaGFuZ2UnLCB0aGlzLnZpc2libGUpOwogICAgfQogICAgc3luY1Zpc2libGUoKTsKICAgIHRoaXMuJHdhdGNoKCd2aXNpYmxlJywgc3luY1Zpc2libGUpOwoKICAgIC8vIGJpbmRpbmcgZXZlbnQKICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy50cmlnZ2VyRXZ0KCksIDEwMDApOwoKICAgIHRoaXMuX29uU2Nyb2xsID0gKCkgPT4gdGhpcy5vblNjcm9sbCgpOwogICAgdGhpcy5fb25IYXNoQ2hhbmdlID0gKCkgPT4gewogICAgICBjb25zdCBoYXNoID0gZGVjb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpKTsKICAgICAgY29uc3QgaW5kZXggPSAodGhpcy4kcGFnZS5oZWFkZXJzIHx8IFtdKS5maW5kSW5kZXgoaCA9PiBoLnNsdWcgPT09IGhhc2gpOwogICAgICBpZiAoaW5kZXggPj0gMCkgdGhpcy5hY3RpdmVJbmRleCA9IGluZGV4OwogICAgICBjb25zdCBkb20gPSBoYXNoICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhhc2gpOwogICAgICBpZiAoZG9tKSB3aW5kb3cuc2Nyb2xsVG8oMCwgZ2V0QWJzb2x1dGVUb3AoZG9tKSAtIDIwKTsKICAgIH07CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgdGhpcy5fb25TY3JvbGwpOwogICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCB0aGlzLl9vbkhhc2hDaGFuZ2UpOwogIH0sCgogIGJlZm9yZURlc3Ryb3koKSB7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgdGhpcy5fb25TY3JvbGwpOwogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImhhc2hjaGFuZ2UiLCB0aGlzLl9vbkhhc2hDaGFuZ2UpOwogIH0KfTsK"},{"version":3,"sources":["Toc.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Toc.vue","sourceRoot":"node_modules/@vuepress/theme-blog/components","sourcesContent":["<template>\n  <Sticker class=\"vuepress-toc\"\n           v-bind=\"$attrs\"\n           v-if=\"visible\">\n    <div class=\"vuepress-toc-item\"\n         ref=\"chairTocItem\"\n         :class=\"[ `vuepress-toc-h${item.level}`, { active: activeIndex === index } ]\"\n         v-for=\"(item, index) in $page.headers\"\n         :key=\"index\">\n      <a :href=\"`#${item.slug}`\"\n         :title=\"item.title\">{{ item.title }}</a>\n    </div>\n  </Sticker>\n</template>\n\n<script>\n  import Sticker from './Sticker.vue';\n  let initTop;\n\n  // get offset top\n  function getAbsoluteTop(dom) {\n    return dom && dom.getBoundingClientRect\n      ? dom.getBoundingClientRect().top +\n      document.body.scrollTop +\n      document.documentElement.scrollTop\n      : 0;\n  }\n\n  export default {\n    components: {\n      Sticker,\n    },\n\n    data() {\n      return {\n        activeIndex: 0\n      };\n    },\n\n    computed: {\n      visible() {\n        return (\n          this.$frontmatter &&\n          this.$frontmatter.toc !== false &&\n          !!(this.$page && this.$page.headers && this.$page.headers.length)\n        );\n      }\n    },\n\n    watch: {\n      activeIndex() {\n        const items = this.$refs.chairTocItem || [];\n        const dom = items[this.activeIndex];\n        if (!dom) return;\n        const rect = dom.getBoundingClientRect();\n        const wrapperRect = this.$el.getBoundingClientRect();\n        const top = rect.top - wrapperRect.top;\n        if (top < 20) {\n          this.$el.scrollTop = this.$el.scrollTop + top - 20;\n        } else if (top + rect.height > wrapperRect.height) {\n          this.$el.scrollTop += rect.top - (wrapperRect.height - rect.height);\n        }\n      },\n\n      $route() {\n\n      }\n    },\n\n    methods: {\n      onScroll() {\n        if (initTop === undefined) {\n          initTop = getAbsoluteTop(this.$el);\n        }\n\n        // update position\n        const scrollTop = document.body.scrollTop + document.documentElement.scrollTop;\n        const headings = this.$page.headers || [];\n\n        // change active toc with scrolling\n        let i = 0;\n        const addLink = index => {\n          this.activeIndex = index;\n        };\n\n        for (; i < headings.length; i++) {\n          const dom = document.getElementById(headings[i].slug);\n          const top = getAbsoluteTop(dom);\n          if (top - 50 < scrollTop) {\n            addLink(i);\n          } else {\n            if (!i) addLink(i);\n            break;\n          }\n        }\n      },\n\n      triggerEvt() {\n        this._onScroll();\n        this._onHashChange();\n      }\n    },\n\n    mounted() {\n      // sync visible to parent component\n      const syncVisible = () => {\n        this.$emit('visible-change', this.visible);\n      }\n      syncVisible();\n      this.$watch('visible', syncVisible);\n\n      // binding event\n      setTimeout(() => this.triggerEvt(), 1000);\n\n      this._onScroll = () => this.onScroll();\n      this._onHashChange = () => {\n        const hash = decodeURIComponent(location.hash.substring(1));\n        const index = (this.$page.headers || []).findIndex(h => h.slug === hash);\n        if (index >= 0) this.activeIndex = index;\n        const dom = hash && document.getElementById(hash);\n        if (dom) window.scrollTo(0, getAbsoluteTop(dom) - 20);\n      };\n      window.addEventListener(\"scroll\", this._onScroll);\n      // window.addEventListener('hashchange', this._onHashChange);\n    },\n\n    beforeDestroy() {\n      window.removeEventListener(\"scroll\", this._onScroll);\n      window.removeEventListener(\"hashchange\", this._onHashChange);\n    }\n  };\n</script>\n\n<style lang=\"stylus\">\n  .table-of-contents\n    display: none !important;\n\n  .vuepress-toc\n    position: fixed;\n    display: none;\n    max-height: 100vh;\n    max-width 220px\n    overflow-y: auto;\n    padding-top: $navbarHeight;\n    top: 0;\n    right: 10px;\n    box-sizing: border-box;\n    /*background: #fff;*/\n    z-index: 0;\n\n    .vuepress-toc-item\n      position: relative;\n      padding: 0.1rem 0.6rem 0.1rem 1.5rem;\n      line-height: 1.5rem;\n      border-left: 1px solid rgba(0, 0, 0, 0.08);\n      overflow: hidden;\n\n      a\n        display: block;\n        color: #2c3e50;\n        width: 100%;\n        box-sizing: border-box;\n        font-size: 12px;\n        font-weight: 400;\n        text-decoration: none;\n        transition: color 0.3s;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n\n      &.active\n        border-left-color: $accentColor;\n\n        a\n          color: $accentColor;\n\n      &:hover\n        a\n          color: $accentColor;\n\n    for i in range(3, 6)\n      .vuepress-toc-h{i} a\n        padding-left: 1rem * (i - 2);\n\n  // for vuepress-toc\n  @media (min-width: 1300px)\n    .vuepress-toc\n      display: block;\n</style>\n"]}]}