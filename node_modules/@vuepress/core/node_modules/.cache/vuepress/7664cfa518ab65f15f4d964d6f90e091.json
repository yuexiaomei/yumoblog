{"remainingRequest":"/Users/lumeng/Downloads/yumoblog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lumeng/Downloads/yumoblog/node_modules/@vuepress/theme-blog/components/Sticker.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/@vuepress/theme-blog/components/Sticker.vue","mtime":1571734172112},{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/cache-loader/dist/cjs.js","mtime":1571734121226},{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/babel-loader/lib/index.js","mtime":1571734121221},{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/cache-loader/dist/cjs.js","mtime":1571734121226},{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/vue-loader/lib/index.js","mtime":1571734124095}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGZpbmRDb250YWluZXJJblZtIH0gZnJvbSAnLi91dGlsJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbJ3N0aWNrJywgJ3RhZyddLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmVlZEZsb2F0OiBmYWxzZSwKICAgICAgc3RpY2tCb3R0b206IDAsCiAgICB9CiAgfSwKCiAgd2F0Y2g6IHsKICAgIHN0aWNrKCkgewogICAgICB0aGlzLnVuU3RpY2soKTsKICAgICAgdGhpcy5zdGlja0hhbmRsZSgpOwogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIHN0aWNrSGFuZGxlKCkgewogICAgICBpZiAoIXRoaXMuc3RpY2spIHJldHVybjsKICAgICAgY29uc3Qgc3RpY2tFbGVtZW50ID0gZmluZENvbnRhaW5lckluVm0odGhpcy5zdGljaywgdGhpcyk7CiAgICAgIGlmICghc3RpY2tFbGVtZW50KSByZXR1cm47CgogICAgICB0aGlzLl9zdGlja2VyU2Nyb2xsID0gKCkgPT4gewogICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICBjb25zdCBzY3JvbGxUb3AgPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7CiAgICAgICAgdGhpcy5uZWVkRmxvYXQgPSAoZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQgLSBzY3JvbGxUb3AgLSByZWN0LmhlaWdodCkgPCBzdGlja0VsZW1lbnQub2Zmc2V0SGVpZ2h0OwogICAgICAgIHRoaXMuc3RpY2tCb3R0b20gPSBzdGlja0VsZW1lbnQub2Zmc2V0SGVpZ2h0OwogICAgICB9CgogICAgICB0aGlzLl9zdGlja2VyU2Nyb2xsKCk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLl9zdGlja2VyU2Nyb2xsKTsKICAgIH0sCgogICAgdW5TdGljaygpIHsKICAgICAgdGhpcy5uZWVkRmxvYXQgPSBmYWxzZTsKICAgICAgdGhpcy5zdGlja0JvdHRvbSA9IDA7CiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLl9zdGlja2VyU2Nyb2xsKTsKICAgIH0sCiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuc3RpY2tIYW5kbGUoKTsKICB9LAoKICBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy51blN0aWNrKCk7CiAgfQp9Cg=="},{"version":3,"sources":["Sticker.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Sticker.vue","sourceRoot":"node_modules/@vuepress/theme-blog/components","sourcesContent":["<template>\n  <component :is=\"tag || 'div'\"\n             class=\"sticker\"\n             :class=\"needFloat ? [ 'stick-float' ] : undefined\"\n             :style=\"needFloat ? { bottom: `${stickBottom}px` } : undefined\">\n    <slot></slot>\n  </component>\n</template>\n\n<script>\n  import { findContainerInVm } from './util';\n  export default {\n    props: ['stick', 'tag'],\n\n    data() {\n      return {\n        needFloat: false,\n        stickBottom: 0,\n      }\n    },\n\n    watch: {\n      stick() {\n        this.unStick();\n        this.stickHandle();\n      }\n    },\n\n    methods: {\n      stickHandle() {\n        if (!this.stick) return;\n        const stickElement = findContainerInVm(this.stick, this);\n        if (!stickElement) return;\n\n        this._stickerScroll = () => {\n          const rect = this.$el.getBoundingClientRect();\n          const scrollTop = document.body.scrollTop + document.documentElement.scrollTop;\n          this.needFloat = (document.body.offsetHeight - scrollTop - rect.height) < stickElement.offsetHeight;\n          this.stickBottom = stickElement.offsetHeight;\n        }\n\n        this._stickerScroll();\n        window.addEventListener(\"scroll\", this._stickerScroll);\n      },\n\n      unStick() {\n        this.needFloat = false;\n        this.stickBottom = 0;\n        window.removeEventListener(\"scroll\", this._stickerScroll);\n      },\n    },\n\n    mounted() {\n      this.stickHandle();\n    },\n\n    beforeDestroy() {\n      this.unStick();\n    }\n  }\n</script>\n\n<style lang=\"stylus\">\n  .sticker\n    position: fixed;\n\n    &.stick-float\n      top: auto;\n      position: absolute;\n</style>\n\n"]}]}