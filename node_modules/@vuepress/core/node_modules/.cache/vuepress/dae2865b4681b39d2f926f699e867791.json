{"remainingRequest":"/Users/lumeng/Downloads/yumoblog/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/lumeng/Downloads/yumoblog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lumeng/Downloads/yumoblog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lumeng/Downloads/yumoblog/node_modules/@vuepress/theme-blog/components/Toc.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/@vuepress/theme-blog/components/Toc.vue","mtime":1571734172112},{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/cache-loader/dist/cjs.js","mtime":1571734121226},{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/babel-loader/lib/index.js","mtime":1571734121221},{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/cache-loader/dist/cjs.js","mtime":1571734121226},{"path":"/Users/lumeng/Downloads/yumoblog/node_modules/vue-loader/lib/index.js","mtime":1571734124095}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZpbmQtaW5kZXgiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgU3RpY2tlciBmcm9tICIuL1N0aWNrZXIudnVlIjsKdmFyIGluaXRUb3A7IC8vIGdldCBvZmZzZXQgdG9wCgpmdW5jdGlvbiBnZXRBYnNvbHV0ZVRvcChkb20pIHsKICByZXR1cm4gZG9tICYmIGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QgPyBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIDogMDsKfQoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFN0aWNrZXI6IFN0aWNrZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmVJbmRleDogMAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB2aXNpYmxlOiBmdW5jdGlvbiB2aXNpYmxlKCkgewogICAgICByZXR1cm4gdGhpcy4kZnJvbnRtYXR0ZXIgJiYgdGhpcy4kZnJvbnRtYXR0ZXIudG9jICE9PSBmYWxzZSAmJiAhISh0aGlzLiRwYWdlICYmIHRoaXMuJHBhZ2UuaGVhZGVycyAmJiB0aGlzLiRwYWdlLmhlYWRlcnMubGVuZ3RoKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBhY3RpdmVJbmRleDogZnVuY3Rpb24gYWN0aXZlSW5kZXgoKSB7CiAgICAgIHZhciBpdGVtcyA9IHRoaXMuJHJlZnMuY2hhaXJUb2NJdGVtIHx8IFtdOwogICAgICB2YXIgZG9tID0gaXRlbXNbdGhpcy5hY3RpdmVJbmRleF07CiAgICAgIGlmICghZG9tKSByZXR1cm47CiAgICAgIHZhciByZWN0ID0gZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICB2YXIgd3JhcHBlclJlY3QgPSB0aGlzLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgdmFyIHRvcCA9IHJlY3QudG9wIC0gd3JhcHBlclJlY3QudG9wOwoKICAgICAgaWYgKHRvcCA8IDIwKSB7CiAgICAgICAgdGhpcy4kZWwuc2Nyb2xsVG9wID0gdGhpcy4kZWwuc2Nyb2xsVG9wICsgdG9wIC0gMjA7CiAgICAgIH0gZWxzZSBpZiAodG9wICsgcmVjdC5oZWlnaHQgPiB3cmFwcGVyUmVjdC5oZWlnaHQpIHsKICAgICAgICB0aGlzLiRlbC5zY3JvbGxUb3AgKz0gcmVjdC50b3AgLSAod3JhcHBlclJlY3QuaGVpZ2h0IC0gcmVjdC5oZWlnaHQpOwogICAgICB9CiAgICB9LAogICAgJHJvdXRlOiBmdW5jdGlvbiAkcm91dGUoKSB7fQogIH0sCiAgbWV0aG9kczogewogICAgb25TY3JvbGw6IGZ1bmN0aW9uIG9uU2Nyb2xsKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKGluaXRUb3AgPT09IHVuZGVmaW5lZCkgewogICAgICAgIGluaXRUb3AgPSBnZXRBYnNvbHV0ZVRvcCh0aGlzLiRlbCk7CiAgICAgIH0gLy8gdXBkYXRlIHBvc2l0aW9uCgoKICAgICAgdmFyIHNjcm9sbFRvcCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsKICAgICAgdmFyIGhlYWRpbmdzID0gdGhpcy4kcGFnZS5oZWFkZXJzIHx8IFtdOyAvLyBjaGFuZ2UgYWN0aXZlIHRvYyB3aXRoIHNjcm9sbGluZwoKICAgICAgdmFyIGkgPSAwOwoKICAgICAgdmFyIGFkZExpbmsgPSBmdW5jdGlvbiBhZGRMaW5rKGluZGV4KSB7CiAgICAgICAgX3RoaXMuYWN0aXZlSW5kZXggPSBpbmRleDsKICAgICAgfTsKCiAgICAgIGZvciAoOyBpIDwgaGVhZGluZ3MubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgZG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaGVhZGluZ3NbaV0uc2x1Zyk7CiAgICAgICAgdmFyIHRvcCA9IGdldEFic29sdXRlVG9wKGRvbSk7CgogICAgICAgIGlmICh0b3AgLSA1MCA8IHNjcm9sbFRvcCkgewogICAgICAgICAgYWRkTGluayhpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKCFpKSBhZGRMaW5rKGkpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdHJpZ2dlckV2dDogZnVuY3Rpb24gdHJpZ2dlckV2dCgpIHsKICAgICAgdGhpcy5fb25TY3JvbGwoKTsKCiAgICAgIHRoaXMuX29uSGFzaENoYW5nZSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIC8vIHN5bmMgdmlzaWJsZSB0byBwYXJlbnQgY29tcG9uZW50CiAgICB2YXIgc3luY1Zpc2libGUgPSBmdW5jdGlvbiBzeW5jVmlzaWJsZSgpIHsKICAgICAgX3RoaXMyLiRlbWl0KCd2aXNpYmxlLWNoYW5nZScsIF90aGlzMi52aXNpYmxlKTsKICAgIH07CgogICAgc3luY1Zpc2libGUoKTsKICAgIHRoaXMuJHdhdGNoKCd2aXNpYmxlJywgc3luY1Zpc2libGUpOyAvLyBiaW5kaW5nIGV2ZW50CgogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpczIudHJpZ2dlckV2dCgpOwogICAgfSwgMTAwMCk7CgogICAgdGhpcy5fb25TY3JvbGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpczIub25TY3JvbGwoKTsKICAgIH07CgogICAgdGhpcy5fb25IYXNoQ2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgaGFzaCA9IGRlY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKSk7CiAgICAgIHZhciBpbmRleCA9IChfdGhpczIuJHBhZ2UuaGVhZGVycyB8fCBbXSkuZmluZEluZGV4KGZ1bmN0aW9uIChoKSB7CiAgICAgICAgcmV0dXJuIGguc2x1ZyA9PT0gaGFzaDsKICAgICAgfSk7CiAgICAgIGlmIChpbmRleCA+PSAwKSBfdGhpczIuYWN0aXZlSW5kZXggPSBpbmRleDsKICAgICAgdmFyIGRvbSA9IGhhc2ggJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaGFzaCk7CiAgICAgIGlmIChkb20pIHdpbmRvdy5zY3JvbGxUbygwLCBnZXRBYnNvbHV0ZVRvcChkb20pIC0gMjApOwogICAgfTsKCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgdGhpcy5fb25TY3JvbGwpOyAvLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRoaXMuX29uSGFzaENoYW5nZSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHRoaXMuX29uU2Nyb2xsKTsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJoYXNoY2hhbmdlIiwgdGhpcy5fb25IYXNoQ2hhbmdlKTsKICB9Cn07"},{"version":3,"sources":["/Users/lumeng/Downloads/yumoblog/node_modules/@vuepress/theme-blog/components/Toc.vue"],"names":["Sticker","initTop","getAbsoluteTop","dom","getBoundingClientRect","top","document","body","scrollTop","documentElement","components","data","activeIndex","computed","visible","$frontmatter","toc","$page","headers","length","watch","items","$refs","chairTocItem","rect","wrapperRect","$el","height","$route","methods","onScroll","undefined","headings","i","addLink","index","getElementById","slug","triggerEvt","_onScroll","_onHashChange","mounted","syncVisible","$emit","$watch","setTimeout","hash","decodeURIComponent","location","substring","findIndex","h","window","scrollTo","addEventListener","beforeDestroy","removeEventListener"],"mappings":"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","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Sticker from './Sticker.vue';\nlet initTop;\n\n// get offset top\nfunction getAbsoluteTop(dom) {\n  return dom && dom.getBoundingClientRect\n    ? dom.getBoundingClientRect().top +\n    document.body.scrollTop +\n    document.documentElement.scrollTop\n    : 0;\n}\n\nexport default {\n  components: {\n    Sticker,\n  },\n\n  data() {\n    return {\n      activeIndex: 0\n    };\n  },\n\n  computed: {\n    visible() {\n      return (\n        this.$frontmatter &&\n        this.$frontmatter.toc !== false &&\n        !!(this.$page && this.$page.headers && this.$page.headers.length)\n      );\n    }\n  },\n\n  watch: {\n    activeIndex() {\n      const items = this.$refs.chairTocItem || [];\n      const dom = items[this.activeIndex];\n      if (!dom) return;\n      const rect = dom.getBoundingClientRect();\n      const wrapperRect = this.$el.getBoundingClientRect();\n      const top = rect.top - wrapperRect.top;\n      if (top < 20) {\n        this.$el.scrollTop = this.$el.scrollTop + top - 20;\n      } else if (top + rect.height > wrapperRect.height) {\n        this.$el.scrollTop += rect.top - (wrapperRect.height - rect.height);\n      }\n    },\n\n    $route() {\n\n    }\n  },\n\n  methods: {\n    onScroll() {\n      if (initTop === undefined) {\n        initTop = getAbsoluteTop(this.$el);\n      }\n\n      // update position\n      const scrollTop = document.body.scrollTop + document.documentElement.scrollTop;\n      const headings = this.$page.headers || [];\n\n      // change active toc with scrolling\n      let i = 0;\n      const addLink = index => {\n        this.activeIndex = index;\n      };\n\n      for (; i < headings.length; i++) {\n        const dom = document.getElementById(headings[i].slug);\n        const top = getAbsoluteTop(dom);\n        if (top - 50 < scrollTop) {\n          addLink(i);\n        } else {\n          if (!i) addLink(i);\n          break;\n        }\n      }\n    },\n\n    triggerEvt() {\n      this._onScroll();\n      this._onHashChange();\n    }\n  },\n\n  mounted() {\n    // sync visible to parent component\n    const syncVisible = () => {\n      this.$emit('visible-change', this.visible);\n    }\n    syncVisible();\n    this.$watch('visible', syncVisible);\n\n    // binding event\n    setTimeout(() => this.triggerEvt(), 1000);\n\n    this._onScroll = () => this.onScroll();\n    this._onHashChange = () => {\n      const hash = decodeURIComponent(location.hash.substring(1));\n      const index = (this.$page.headers || []).findIndex(h => h.slug === hash);\n      if (index >= 0) this.activeIndex = index;\n      const dom = hash && document.getElementById(hash);\n      if (dom) window.scrollTo(0, getAbsoluteTop(dom) - 20);\n    };\n    window.addEventListener(\"scroll\", this._onScroll);\n    // window.addEventListener('hashchange', this._onHashChange);\n  },\n\n  beforeDestroy() {\n    window.removeEventListener(\"scroll\", this._onScroll);\n    window.removeEventListener(\"hashchange\", this._onHashChange);\n  }\n};\n"]}]}